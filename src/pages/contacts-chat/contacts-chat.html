<!--
  Generated template for the ContactsChat page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar>
		<ion-title>Private conversation with {{ contact.login }}</ion-title>
	</ion-navbar>

</ion-header>

<ion-content padding>

	<div *ngFor="let message of messages" class='card'>
		<ion-card *ngIf="message.login === getUserLogin()" id='owner'>
			<ion-item class="owner">
				<ion-avatar item-left>
					<img src="assets/images/avatar.png">
				</ion-avatar>
				<ion-card-title>{{ message.login }}</ion-card-title>
				<ion-note item-right>{{ formatMessageTime(message.time) }}</ion-note>
			</ion-item>
			<ion-card-content class="owner">
				<p>{{ message.text }}</p>
			</ion-card-content>
		</ion-card>
		<ion-card *ngIf="message.login !== getUserLogin()" id='guest'> 
			<ion-item>
				<ion-avatar item-left>
					<img src="assets/images/avatar.png">
				</ion-avatar>
				<ion-card-title>{{ message.login }}</ion-card-title>
				<ion-note item-right>{{ formatMessageTime(message.time) }}</ion-note>
			</ion-item>
			<ion-card-content>
				<p>{{ message.text }}</p>
			</ion-card-content>
		</ion-card>
	</div>

</ion-content>

<ion-footer>
	<form (submit)="sendMessage()" #form="ngForm">
		<ion-grid>
			<ion-row>
				<ion-col col-8>
					<ion-input type="text" name="message" [(ngModel)]="message" placeholder="Write Something..." required></ion-input>
				</ion-col>
				<ion-col col-4>
					<button ion-button type="submit" [disabled]="form.form.invalid">Send</button>
				</ion-col>
			</ion-row>
		</ion-grid>
	</form>
</ion-footer>
